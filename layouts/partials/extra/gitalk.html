{{ if .Site.Params.Comment }}
<!--上级 globalscript.html-->
{{ end }}
{{ if .Site.Params.enableGitalk }}
<div id="gitalk-container" class="gitalk-container"></div>
{{ if .Site.Params.enableCDN }}
  {{ if .Site.Params.CDN.gitalk_css }}
  <link rel="stylesheet" href='{{ .Site.Params.CDN.gitalk_css }}'>
    {{ else }}
    <link rel="stylesheet" href='{{ "css/gitalk.css" | absURL }}'>
  {{ end }}
  {{ if .Site.Params.CDN.gitalk_min_js }}
  <script src='{{ .Site.Params.CDN.gitalk_min_js }}'></script>
    {{ else }}
    <script src='{{ "js/gitalk.min.js" | absURL }}'></script>
  {{ end }}
{{ else }}
<link rel="stylesheet" href='{{ "css/gitalk.css" | absURL }}'>
<script src='{{ "js/gitalk.min.js" | absURL }}'></script>
{{ end }}
<script>
  const gitalk = new Gitalk({
    accessToken: '{{ .Site.Params.Gitalk.accessToken }}',
    repo: '{{ .Site.Params.Gitalk.repo }}',
    owner: '{{ .Site.Params.Gitalk.owner }}',
    admin: ['{{ .Site.Params.Gitalk.admin }}'],
    id: eval({{ .Site.Params.Gitalk.id }}), // Ensure uniqueness and length less than 50
    distractionFreeMode: false // Facebook-like distraction free mode
  });
  (function() {
    gitalk.render('gitalk-container');
  })();
</script>
{{ end }}

